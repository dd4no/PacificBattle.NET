@page "/battlebox"
@inject AppDbContext db

<div id="battlebox" class="d-flex m-1 p-1">

    @* Japan *@
    <div class="w-50 m-1 p-1 border text-center">

        <h1 class="mb-1 text-danger">Japan - @JapaneseShips.Count Ships</h1>
        @foreach (var ship in JapaneseShips)
        {
            <div class="d-flex">
                <p class="">@ship.ShipName</p>
                <p class="ms-4 pe-2">@ship.Attack</p>
                <p class="ps-2 pe-2">@ship.Armor</p>
                <p class="ps-2">@ship.Speed</p>
            </div>
        }

    </div>

    @* Allies *@
    <div class="w-50 m-1 p-1 border text-center">

        <h1 class="mb-1 text-primary">Allies - @AlliedShips.Count Ships</h1>
        @foreach (var ship in AlliedShips)
        {
            <div class="d-flex">
                <p class="">@ship.ShipName</p>
                <p class="ms-4 pe-2">@ship.Attack</p>
                <p class="ps-2 pe-2">@ship.Armor</p>
                <p class="ps-2">@ship.Speed</p>
            </div>
        }

    </div>

</div>

@code 
{
    public List<Ship> AlliedShips { get; set; } = new();
    public List<Ship> JapaneseShips { get; set; } = new();

    protected override void OnInitialized()
    {
        AlliedShips = db.Ships.Where(x => x.NavyId == 1).ToList();
        JapaneseShips = db.Ships.Where(x => x.NavyId == 2).ToList();
    }
}
